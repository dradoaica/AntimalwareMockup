using System;
using Unity;

namespace DRadoaica.Antimalware.SDK.Infrastructure.IoC
{
    public class IoCContainerWrapper
    {
        private static IUnityContainer _iocContainer;

        public IUnityContainer IocContainer
        {
            get
            {
                if (!IsIocContainerSet)
                    throw new InvalidOperationException("Ioc container not set");

                return _iocContainer;
            }
        }
        public bool IsIocContainerSet { get { return _iocContainer != null; } }

        public void SetIocContainer(IUnityContainer iocContainer)
        {
            _iocContainer = iocContainer ?? throw new ArgumentNullException(nameof(iocContainer));
        }
    }
}